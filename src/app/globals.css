/** @import must precede all other statements */
@import url("https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap");
@import "leaflet/dist/leaflet.css";
@import "tailwindcss";

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  
  --color-vault-bg: hsl(var(--vault-bg));
  --color-vault-panel: hsl(var(--vault-panel));
  --color-vault-gold: hsl(var(--vault-gold));
  --color-vault-text: hsl(var(--vault-text));
  --color-vault-text-muted: hsl(var(--vault-text-muted));
  --color-vault-input-bg: hsl(var(--vault-input-bg));
  --color-vault-input-border: hsl(var(--vault-input-border));
}

@layer base {

  :root {
    --background: 0 0% 8.6%;
    --foreground: 0 0% 100%;

    --card: 0 0% 12.5%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 12.5%;
    --popover-foreground: 0 0% 100%;

    --primary: 40 42% 51.4%;
    --primary-foreground: 35 42% 6.7%;

    --secondary: 0 0% 16.5%;
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 16.5%;
    --muted-foreground: 0 0% 63.1%;

    --accent: 0 0% 16.5%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    --border: 240 2.7% 23.3%;
    --input: 240 2.7% 23.3%;
    --ring: 40 42% 51.4%;

    --radius: 1rem;

    --vault-bg: 0 0% 8.6%;
    --vault-panel: 0 0% 12.5%;
    --vault-gold: 40 42% 51.4%;
    --vault-text: 0 0% 100%;
    --vault-text-muted: 0 0% 63.1%;
    --vault-input-bg: 0 0% 16.5%;
    --vault-input-border: 240 2.7% 23.3%;
  }

  .dark {
    --background: 0 0% 8.6%;
    --foreground: 0 0% 100%;

    --card: 0 0% 12.5%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 12.5%;
    --popover-foreground: 0 0% 100%;

    --primary: 40 42% 51.4%;
    --primary-foreground: 35 42% 6.7%;

    --secondary: 0 0% 16.5%;
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 16.5%;
    --muted-foreground: 0 0% 63.1%;

    --accent: 0 0% 16.5%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;

    --border: 240 2.7% 23.3%;
    --input: 240 2.7% 23.3%;
    --ring: 40 42% 51.4%;
  }
}

@layer utilities {
  .text-background { color: hsl(var(--background)) }
  .text-foreground { color: hsl(var(--foreground)) }
  .text-card { color: hsl(var(--card)) }
  .text-card-foreground { color: hsl(var(--card-foreground)) }
  .text-popover { color: hsl(var(--popover)) }
  .text-popover-foreground { color: hsl(var(--popover-foreground)) }
  .text-primary { color: hsl(var(--primary)) }
  .text-primary-foreground { color: hsl(var(--primary-foreground)) }
  .text-secondary { color: hsl(var(--secondary)) }
  .text-secondary-foreground { color: hsl(var(--secondary-foreground)) }
  .text-muted { color: hsl(var(--muted)) }
  .text-muted-foreground { color: hsl(var(--muted-foreground)) }
  .text-accent { color: hsl(var(--accent)) }
  .text-accent-foreground { color: hsl(var(--accent-foreground)) }
  .text-destructive { color: hsl(var(--destructive)) }
  .text-destructive-foreground { color: hsl(var(--destructive-foreground)) }
  .text-vault-gold { color: hsl(var(--vault-gold)) }
  .text-vault-text { color: hsl(var(--vault-text)) }
  .text-vault-text-muted { color: hsl(var(--vault-text-muted)) }
  
  .bg-background { background-color: hsl(var(--background)) }
  .bg-foreground { background-color: hsl(var(--foreground)) }
  .bg-card { background-color: hsl(var(--card)) }
  .bg-card-foreground { background-color: hsl(var(--card-foreground)) }
  .bg-popover { background-color: hsl(var(--popover)) }
  .bg-popover-foreground { background-color: hsl(var(--popover-foreground)) }
  .bg-primary { background-color: hsl(var(--primary)) }
  .bg-primary-foreground { background-color: hsl(var(--primary-foreground)) }
  .bg-secondary { background-color: hsl(var(--secondary)) }
  .bg-secondary-foreground { background-color: hsl(var(--secondary-foreground)) }
  .bg-muted { background-color: hsl(var(--muted)) }
  .bg-muted-foreground { background-color: hsl(var(--muted-foreground)) }
  .bg-accent { background-color: hsl(var(--accent)) }
  .bg-accent-foreground { background-color: hsl(var(--accent-foreground)) }
  .bg-destructive { background-color: hsl(var(--destructive)) }
  .bg-destructive-foreground { background-color: hsl(var(--destructive-foreground)) }
  .bg-vault-bg { background-color: hsl(var(--vault-bg)) }
  .bg-vault-panel { background-color: hsl(var(--vault-panel)) }
  .bg-vault-gold { background-color: hsl(var(--vault-gold)) }
  .bg-vault-input-bg { background-color: hsl(var(--vault-input-bg)) }
  
  .border-background { border-color: hsl(var(--background)) }
  .border-foreground { border-color: hsl(var(--foreground)) }
  .border-card { border-color: hsl(var(--card)) }
  .border-card-foreground { border-color: hsl(var(--card-foreground)) }
  .border-popover { border-color: hsl(var(--popover)) }
  .border-popover-foreground { border-color: hsl(var(--popover-foreground)) }
  .border-primary { border-color: hsl(var(--primary)) }
  .border-primary-foreground { border-color: hsl(var(--primary-foreground)) }
  .border-secondary { border-color: hsl(var(--secondary)) }
  .border-secondary-foreground { border-color: hsl(var(--secondary-foreground)) }
  .border-muted { border-color: hsl(var(--muted)) }
  .border-muted-foreground { border-color: hsl(var(--muted-foreground)) }
  .border-accent { border-color: hsl(var(--accent)) }
  .border-accent-foreground { border-color: hsl(var(--accent-foreground)) }
  .border-destructive { border-color: hsl(var(--destructive)) }
  .border-destructive-foreground { border-color: hsl(var(--destructive-foreground)) }
  .border-input { border-color: hsl(var(--input)) }
  .border-vault-input-border { border-color: hsl(var(--vault-input-border)) }
  
  .ring-primary { --tw-ring-color: hsl(var(--primary)) }
  .ring-secondary { --tw-ring-color: hsl(var(--secondary)) }
  .ring-accent { --tw-ring-color: hsl(var(--accent)) }
  .ring-destructive { --tw-ring-color: hsl(var(--destructive)) }
  .ring-vault-gold { --tw-ring-color: hsl(var(--vault-gold)) }
  
  .divide-border > * + * { border-color: hsl(var(--border)) }
  .divide-primary > * + * { border-color: hsl(var(--primary)) }
  .divide-secondary > * + * { border-color: hsl(var(--secondary)) }
  .divide-muted > * + * { border-color: hsl(var(--muted)) }
  
  .outline-primary { outline-color: hsl(var(--primary)) }
  .outline-secondary { outline-color: hsl(var(--secondary)) }
  .outline-accent { outline-color: hsl(var(--accent)) }
  .outline-destructive { outline-color: hsl(var(--destructive)) }
  .outline-vault-gold { outline-color: hsl(var(--vault-gold)) }
  
  .fill-primary { fill: hsl(var(--primary)) }
  .fill-secondary { fill: hsl(var(--secondary)) }
  .fill-accent { fill: hsl(var(--accent)) }
  .fill-foreground { fill: hsl(var(--foreground)) }
  .fill-vault-gold { fill: hsl(var(--vault-gold)) }
  
  .stroke-primary { stroke: hsl(var(--primary)) }
  .stroke-secondary { stroke: hsl(var(--secondary)) }
  .stroke-accent { stroke: hsl(var(--accent)) }
  .stroke-foreground { stroke: hsl(var(--foreground)) }
  .stroke-vault-gold { stroke: hsl(var(--vault-gold)) }
}

@layer base {
  body {
    font-family: 'Plus Jakarta Sans', -apple-system, Roboto, Helvetica, sans-serif;
  }

  :where(p, span, li, h1, h2, h3, h4, h5, h6, a, button, label, td, th) {
    overflow-wrap: anywhere;
    word-break: break-word;
  }

  pre,
  code {
    overflow-x: auto;
    white-space: pre;
  }
}

.leaflet-container {
  background-color: #202020 !important;
}

.leaflet-tile-container img {
  filter: brightness(0.6) invert(1) hue-rotate(180deg) contrast(0.8) brightness(0.8);
}

.leaflet-control-zoom {
  border: none !important;
  background: transparent !important;
}

.leaflet-control-zoom a {
  background-color: #2B2B2B !important;
  color: white !important;
  border: 1px solid #2B2B2B !important;
}

.leaflet-control-zoom a:hover {
  background-color: #3B3B3B !important;
}

.gold-marker {
  background: transparent !important;
  border: none !important;
  transform-origin: center center;
  animation: pulseMarker 2s ease-out infinite;
}

.gold-marker svg {
  filter: drop-shadow(0 0 8px rgba(246, 187, 2, 0.6));
  animation: pulseGlow 2s ease-out infinite;
  transform-origin: center center;
}

.gold-marker svg circle {
  transform-origin: 47.4026px 47.4026px;
}

@keyframes pulseMarker {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(1.08);
  }
}

@keyframes pulseGlow {
  0% {
    filter: drop-shadow(0 0 8px rgba(246, 187, 2, 0.6));
  }
  100% {
    filter: drop-shadow(0 0 20px rgba(246, 187, 2, 0.9));
  }
}
